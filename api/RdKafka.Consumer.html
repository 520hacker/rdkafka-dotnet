<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Consumer Class | RdKafka</title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Consumer Class | RdKafka">
    <meta name="generator" content="docfx 1.4.0.0">
    
    <link rel="shortcut icon" href="../favicon.ico">
    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link rel="stylesheet" href="../styles/main.css">
    <meta property="docfx:navrel" content="../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
  </head>
  <body data-spy="scroll" data-target="#affix">
    <div id="wrapper">
      <header>
        <nav class="navbar navbar-inverse">
             <div class="container">
               <div class="navbar-header ">
                 <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                   <span class="sr-only">Toggle navigation</span>
                   <span class="icon-bar"></span>
                   <span class="icon-bar"></span>
                   <span class="icon-bar"></span>
                 </button>
                 <a class="navbar-brand" href="../"><span class="dotnet">RdKafka .NET</span></a>
               </div>
               <div id="navbar" class="collapse navbar-collapse">
               </div><!--/.nav-collapse -->
             </div>
           </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content">
        
        <div class="sidenav">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content">
              
              <h1 id="RdKafka_Consumer" data-uid="RdKafka.Consumer">Class Consumer</h1>
              <div class="markdown level0 summary"><p>High-level Kafka Consumer, receives messages from a Kafka cluster.</p>
<p>Requires Kafka &gt;= 0.9.0.0.</p>
</div>
              <div class="markdown level0 conceptual"></div>
              <div class="inheritance">
                <h5>Inheritance</h5>
                  <div class="level0"><span class="xref">System.Object</span></div>
                  <div class="level1"><a class="xref" href="RdKafka.Handle.html#RdKafka_Handle">Handle</a></div>
                  <div class="level2"><span class="xref">Consumer</span></div>
              </div>
              <h6><strong>Namespace</strong>:RdKafka</h6>
              <h6><strong>Assembly</strong>:cs.temp.dll.dll</h6>
              <h5 id="RdKafka_Consumer_syntax">Syntax</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">public class Consumer : Handle, IDisposable</code></pre>
              </div>
              <h3 id="constructors">Constructors</h3>
              <h4 id="RdKafka_Consumer__ctor_RdKafka_Config_System_String_" data-uid="RdKafka.Consumer.#ctor(RdKafka.Config,System.String)">Consumer(Config, String)</h4>
              <div class="markdown level1 summary"></div>
              <div class="markdown level1 conceptual"></div>
              <h5 class="decalaration">Declaration</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">public Consumer(Config config, string brokerList = null)</code></pre>
              </div>
              <h5 class="parameters">Parameters</h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Name</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><a class="xref" href="RdKafka.Config.html#RdKafka_Config">Config</a></td>
                    <td><em>config</em></td>
                    <td></td>
                  </tr>
                  <tr>
                    <td><span class="xref">System.String</span></td>
                    <td><em>brokerList</em></td>
                    <td></td>
                  </tr>
                </tbody>
              </table>
              <h3 id="properties">Properties</h3>
              <h4 id="RdKafka_Consumer_Assignment" data-uid="RdKafka.Consumer.Assignment">Assignment</h4>
              <div class="markdown level1 summary"><p>Returns the current partition assignment as set by Assign.</p>
</div>
              <div class="markdown level1 conceptual"></div>
              <h5 class="decalaration">Declaration</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">public List&lt;TopicPartition&gt; Assignment { get; }</code></pre>
              </div>
              <h5 class="returns">Returns</h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><span class="xref">System.Collections.Generic.List</span>&lt;<a class="xref" href="RdKafka.TopicPartition.html#RdKafka_TopicPartition">TopicPartition</a>&gt;</td>
                    <td></td>
                  </tr>
                </tbody>
              </table>
              <h4 id="RdKafka_Consumer_Subscription" data-uid="RdKafka.Consumer.Subscription">Subscription</h4>
              <div class="markdown level1 summary"><p>Returns the current partition subscription as set by Subscribe.</p>
</div>
              <div class="markdown level1 conceptual"></div>
              <h5 class="decalaration">Declaration</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">public List&lt;string&gt; Subscription { get; }</code></pre>
              </div>
              <h5 class="returns">Returns</h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><span class="xref">System.Collections.Generic.List</span>&lt;<span class="xref">System.String</span>&gt;</td>
                    <td></td>
                  </tr>
                </tbody>
              </table>
              <h3 id="methods">Methods</h3>
              <h4 id="RdKafka_Consumer_Assign_System_Collections_Generic_List_RdKafka_TopicPartitionOffset__" data-uid="RdKafka.Consumer.Assign(System.Collections.Generic.List{RdKafka.TopicPartitionOffset})">Assign(List&lt;TopicPartitionOffset&gt;)</h4>
              <div class="markdown level1 summary"><p>Update the assignment set to \p partitions.</p>
<p>The assignment set is the set of partitions actually being consumed
by the KafkaConsumer.</p>
</div>
              <div class="markdown level1 conceptual"></div>
              <h5 class="decalaration">Declaration</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">public void Assign(List&lt;TopicPartitionOffset&gt; partitions)</code></pre>
              </div>
              <h5 class="parameters">Parameters</h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Name</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><span class="xref">System.Collections.Generic.List</span>&lt;<a class="xref" href="RdKafka.TopicPartitionOffset.html#RdKafka_TopicPartitionOffset">TopicPartitionOffset</a>&gt;</td>
                    <td><em>partitions</em></td>
                    <td></td>
                  </tr>
                </tbody>
              </table>
              <h4 id="RdKafka_Consumer_Commit" data-uid="RdKafka.Consumer.Commit">Commit()</h4>
              <div class="markdown level1 summary"><p>Commit offsets for the current assignment.</p>
</div>
              <div class="markdown level1 conceptual"></div>
              <h5 class="decalaration">Declaration</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">public Task Commit()</code></pre>
              </div>
              <h5 class="returns">Returns</h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><span class="xref">Task</span></td>
                    <td></td>
                  </tr>
                </tbody>
              </table>
              <h4 id="RdKafka_Consumer_Commit_RdKafka_Message_" data-uid="RdKafka.Consumer.Commit(RdKafka.Message)">Commit(Message)</h4>
              <div class="markdown level1 summary"><p>Commit offset for a single topic+partition based on message.</p>
</div>
              <div class="markdown level1 conceptual"></div>
              <h5 class="decalaration">Declaration</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">public Task Commit(Message message)</code></pre>
              </div>
              <h5 class="parameters">Parameters</h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Name</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><a class="xref" href="RdKafka.Message.html#RdKafka_Message">Message</a></td>
                    <td><em>message</em></td>
                    <td></td>
                  </tr>
                </tbody>
              </table>
              <h5 class="returns">Returns</h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><span class="xref">Task</span></td>
                    <td></td>
                  </tr>
                </tbody>
              </table>
              <h4 id="RdKafka_Consumer_Commit_System_Collections_Generic_List_RdKafka_TopicPartitionOffset__" data-uid="RdKafka.Consumer.Commit(System.Collections.Generic.List{RdKafka.TopicPartitionOffset})">Commit(List&lt;TopicPartitionOffset&gt;)</h4>
              <div class="markdown level1 summary"><p>Commit explicit list of offsets.</p>
</div>
              <div class="markdown level1 conceptual"></div>
              <h5 class="decalaration">Declaration</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">public Task Commit(List&lt;TopicPartitionOffset&gt; offsets)</code></pre>
              </div>
              <h5 class="parameters">Parameters</h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Name</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><span class="xref">System.Collections.Generic.List</span>&lt;<a class="xref" href="RdKafka.TopicPartitionOffset.html#RdKafka_TopicPartitionOffset">TopicPartitionOffset</a>&gt;</td>
                    <td><em>offsets</em></td>
                    <td></td>
                  </tr>
                </tbody>
              </table>
              <h5 class="returns">Returns</h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><span class="xref">Task</span></td>
                    <td></td>
                  </tr>
                </tbody>
              </table>
              <h4 id="RdKafka_Consumer_Consume_System_TimeSpan_" data-uid="RdKafka.Consumer.Consume(System.TimeSpan)">Consume(TimeSpan)</h4>
              <div class="markdown level1 summary"><p>Manually consume message or get error, triggers events.</p>
<p>Will invoke events for OnPartitionsAssigned/Revoked,
OnOffsetCommit, etc. on the calling thread.</p>
<p>Returns one of:</p>
<ul>
<li>proper message (ErrorCode is NO_ERROR)</li>
<li>error event (ErrorCode is != NO_ERROR)</li>
<li>timeout due to no message or event within timeout (null)</li>
</ul>
</div>
              <div class="markdown level1 conceptual"></div>
              <h5 class="decalaration">Declaration</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">public MessageAndError? Consume(TimeSpan timeout)</code></pre>
              </div>
              <h5 class="parameters">Parameters</h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Name</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><span class="xref">System.TimeSpan</span></td>
                    <td><em>timeout</em></td>
                    <td></td>
                  </tr>
                </tbody>
              </table>
              <h5 class="returns">Returns</h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><span class="xref">System.Nullable</span>&lt;<a class="xref" href="RdKafka.MessageAndError.html#RdKafka_MessageAndError">MessageAndError</a>&gt;</td>
                    <td></td>
                  </tr>
                </tbody>
              </table>
              <h4 id="RdKafka_Consumer_Dispose" data-uid="RdKafka.Consumer.Dispose">Dispose()</h4>
              <div class="markdown level1 summary"></div>
              <div class="markdown level1 conceptual"></div>
              <h5 class="decalaration">Declaration</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">public override void Dispose()</code></pre>
              </div>
              <h4 id="RdKafka_Consumer_Position_System_Collections_Generic_List_RdKafka_TopicPartition__System_TimeSpan_" data-uid="RdKafka.Consumer.Position(System.Collections.Generic.List{RdKafka.TopicPartition},System.TimeSpan)">Position(List&lt;TopicPartition&gt;, TimeSpan)</h4>
              <div class="markdown level1 summary"><p>Retrieve committed positions (offsets) for topics+partitions.</p>
</div>
              <div class="markdown level1 conceptual"></div>
              <h5 class="decalaration">Declaration</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">public Task&lt;List&lt;TopicPartitionOffset&gt;&gt; Position(List&lt;TopicPartition&gt; partitions, TimeSpan timeout)</code></pre>
              </div>
              <h5 class="parameters">Parameters</h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Name</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><span class="xref">System.Collections.Generic.List</span>&lt;<a class="xref" href="RdKafka.TopicPartition.html#RdKafka_TopicPartition">TopicPartition</a>&gt;</td>
                    <td><em>partitions</em></td>
                    <td></td>
                  </tr>
                  <tr>
                    <td><span class="xref">System.TimeSpan</span></td>
                    <td><em>timeout</em></td>
                    <td></td>
                  </tr>
                </tbody>
              </table>
              <h5 class="returns">Returns</h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><span class="xref">Task</span>&lt;<span class="xref">System.Collections.Generic.List</span>&lt;<a class="xref" href="RdKafka.TopicPartitionOffset.html#RdKafka_TopicPartitionOffset">TopicPartitionOffset</a>&gt;&gt;</td>
                    <td></td>
                  </tr>
                </tbody>
              </table>
              <h4 id="RdKafka_Consumer_Subscribe_System_Collections_Generic_List_System_String__" data-uid="RdKafka.Consumer.Subscribe(System.Collections.Generic.List{System.String})">Subscribe(List&lt;String&gt;)</h4>
              <div class="markdown level1 summary"><p>Update the subscription set to topics.</p>
<p>Any previous subscription will be unassigned and unsubscribed first.</p>
<p>The subscription set denotes the desired topics to consume and this
set is provided to the partition assignor (one of the elected group
members) for all clients which then uses the configured
partition.assignment.strategy to assign the subscription sets&#39;s
topics&#39;s partitions to the consumers, depending on their subscription.</p>
</div>
              <div class="markdown level1 conceptual"></div>
              <h5 class="decalaration">Declaration</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">public void Subscribe(List&lt;string&gt; topics)</code></pre>
              </div>
              <h5 class="parameters">Parameters</h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Name</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><span class="xref">System.Collections.Generic.List</span>&lt;<span class="xref">System.String</span>&gt;</td>
                    <td><em>topics</em></td>
                    <td></td>
                  </tr>
                </tbody>
              </table>
              <h4 id="RdKafka_Consumer_Unassign" data-uid="RdKafka.Consumer.Unassign">Unassign()</h4>
              <div class="markdown level1 summary"><p>Stop consumption and remove the current assignment.</p>
</div>
              <div class="markdown level1 conceptual"></div>
              <h5 class="decalaration">Declaration</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">public void Unassign()</code></pre>
              </div>
              <h4 id="RdKafka_Consumer_Unsubscribe" data-uid="RdKafka.Consumer.Unsubscribe">Unsubscribe()</h4>
              <div class="markdown level1 summary"><p>Unsubscribe from the current subscription set.</p>
</div>
              <div class="markdown level1 conceptual"></div>
              <h5 class="decalaration">Declaration</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">public void Unsubscribe()</code></pre>
              </div>
              <h3 id="events">Events</h3>
              <h4 id="RdKafka_Consumer_OnOffsetCommit" data-uid="RdKafka.Consumer.OnOffsetCommit">OnOffsetCommit</h4>
              <div class="markdown level1 summary"></div>
              <div class="markdown level1 conceptual"></div>
              <h5 class="decalaration">Declaration</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">public event EventHandler&lt;Consumer.OffsetCommitArgs&gt; OnOffsetCommit</code></pre>
              </div>
              <h4 id="RdKafka_Consumer_OnPartitionsAssigned" data-uid="RdKafka.Consumer.OnPartitionsAssigned">OnPartitionsAssigned</h4>
              <div class="markdown level1 summary"></div>
              <div class="markdown level1 conceptual"></div>
              <h5 class="decalaration">Declaration</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">public event EventHandler&lt;List&lt;TopicPartitionOffset&gt;&gt; OnPartitionsAssigned</code></pre>
              </div>
              <h4 id="RdKafka_Consumer_OnPartitionsRevoked" data-uid="RdKafka.Consumer.OnPartitionsRevoked">OnPartitionsRevoked</h4>
              <div class="markdown level1 summary"></div>
              <div class="markdown level1 conceptual"></div>
              <h5 class="decalaration">Declaration</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">public event EventHandler&lt;List&lt;TopicPartitionOffset&gt;&gt; OnPartitionsRevoked</code></pre>
              </div>
            </article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
            <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
            </nav>
          </div>
        </div>
      </div>
    </div>
    
    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </body>
</html>
